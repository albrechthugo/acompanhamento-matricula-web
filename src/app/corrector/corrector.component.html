<div class="container flex-column">
  <main class="content-wrapper flex-column">
    <h1 class="page-title">
      {{'correção prova vestibular' | uppercase}}
    </h1>

    <i class="pi pi-download"></i>

    <div class="p-grid">
      <div class="p-col-12">
        <form [formGroup]="form" class="form-container p-grid p-ai-start vertical-container">
          <div class="form-field p-xl-3 p-lg-3 p-md-4 p-sm-12 cpf-input">
            <label>{{ 'cpf' | uppercase }}</label>
            <input
              pInputText
              type="text"
              placeholder="000.000.000-00"
              formControlName="cpf"
              (ngModelChange)="onCpfNewValue($event)"
            >
            <button
              pButton
              pRipple
              type="button"
              icon="pi pi-search"
              class="p-button-rounded p-button-help p-button-lg p-button-text"
              (click)="getStudentInfo(form.get('cpf')?.value)">
            </button>
          </div>

          <div class="form-field p-xl-9 p-lg-9 p-md-8 p-sm-12">
            <label>{{ 'nome' | uppercase }}</label>
            <input
              pInputText
              type="text"
              [placeholder]="'joão da silva' | uppercase"
              formControlName="name"
            >
          </div>

          <div class="p-col-12">
            <section class="fields-container">
              <div class="criteria-field">
                <span>Tema Obedecido</span>
                <input
                  class="note-input"
                  type="number"
                  step="0.1"
                  min="0"
                  max="10"
                  placeholder="0.0"
                  formControlName="temaObedecido"
                >
              </div>

              <div class="criteria-field">
                <span>Título Adequado</span>
                <input
                  class="note-input"
                  type="number"
                  step="0.1"
                  min="0"
                  max="10"
                  placeholder="0.0"
                  formControlName="tituloAdequado"
                >
              </div>

              <div class="criteria-field">
                <span>Apresenta Introdução</span>
                <input
                  class="note-input"
                  type="number"
                  step="0.1"
                  min="0"
                  max="10"
                  placeholder="0.0"
                  formControlName="apresentaIntroducao"
                >
              </div>

              <div class="criteria-field">
                <span>Apresenta Desenvolvimento</span>
                <input
                  class="note-input"
                  type="number"
                  step="0.1"
                  min="0"
                  max="10"
                  placeholder="0.0"
                  formControlName="apresentaDesenvolvimento"
                >
              </div>

              <div class="criteria-field">
                <span>Apresenta Conclusão</span>
                <input
                  class="note-input"
                  type="number"
                  step="0.1"
                  min="0"
                  max="10"
                  placeholder="0.0"
                  formControlName="apresentaConclusao"
                >
              </div>

              <div class="criteria-field">
                <span>Respeito ao Número de Linhas</span>
                <input
                  class="note-input"
                  type="number"
                  step="0.1"
                  min="0"
                  max="10"
                  placeholder="0.0"
                  formControlName="numeroLinhas"
                >
              </div>

              <div class="criteria-field">
                <span>Coesão</span>
                <input
                  class="note-input"
                  type="number"
                  step="0.1"
                  min="0"
                  max="10"
                  placeholder="0.0"
                  formControlName="coesao"
                >
              </div>

              <div class="criteria-field">
                <span>Ortografia</span>
                <input
                  class="note-input"
                  type="number"
                  step="0.1"
                  min="0"
                  max="10"
                  placeholder="0.0"
                  formControlName="ortografia"
                >
              </div>

              <div class="criteria-field">
                <span>Pontuação</span>
                <input
                  class="note-input"
                  type="number"
                  min="0"
                  max="10"
                  step="0.1"
                  placeholder="0.0"
                  formControlName="pontuacao"
                >
              </div>
            </section>

            <div class="concluir">
              <label>{{'concluir correção:' | uppercase}}</label>
              <p-inputSwitch formControlName="concluido"></p-inputSwitch>

              <div class="criteria-field result">
                <span>{{correctionStatus | gradeStatus}}</span>
                <input
                  class="note-input"
                  disabled
                  readonly
                  type="number"
                  [value]="gradesSum"
                >
              </div>
            </div>
          </div>
        </form>
      </div>

      <div class="p-col-12 p-d-flex p-pr-xl-6 p-pr-lg-6 p-jc-xl-end p-jc-lg-end centraliza">
        <button
          type="button"
          pButton
          pRipple
          class="p-button-lg"
          [disabled]="!form.valid"
          [label]="'finalizar' | uppercase"
          (click)="sendCorrection()">
        </button>
      </div>
    </div>
  </main>
</div>

<p-blockUI [blocked]="canBlockUi">
  <p-progressSpinner></p-progressSpinner>
</p-blockUI>

<p-toast position="top-center">
</p-toast>
